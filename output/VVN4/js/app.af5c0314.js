(function(){"use strict";var t={1384:function(t,e,a){a.r(e);var o=a(3745),n=a(6477);{let r,i,l=document.getElementById("earth-container").offsetWidth,s=document.getElementById("earth-container").offsetHeight,c=310,d={x:0,y:0},p=o.Ys("#earth-container").append("svg").attr("width",l).attr("height",s),h=p.append("g").datum({x:0,y:0}).attr("id","earth-g"),f=(h.append("circle").attr("cx",l/2).attr("cy",s/2).attr("r",l/2).attr("class","earth-back"),o.WvA().scale(c).translate([l/2,s/2]).rotate([d.x,d.y]).center([0,0]).clipAngle(90)),u=o.l49().projection(f),m=o.SaU();p.call(o.sPX().on("zoom",b)),h.call(o.ohM().on("drag",v).on("end",x));let g=o.BYU().domain([-l,l]).range([-180,180]),y=o.BYU().domain([-s,s]).range([90,-90]);function v(t){let e={x:g(t.x),y:y(t.y)};f.rotate([d.x+e.x,d.y+e.y]),w(p,m,r,u),_(p,i,f,u,1)}function x(t){let e={x:g(t.x),y:y(t.y)};d.x+=e.x,d.y+=e.y}function b(t){let e=t.transform;h.attr("transform",e)}function w(t,e,a,o){t.selectAll("path.graticule").datum(e).attr("d",o),t.selectAll("path.countries").datum(a).attr("d",o)}function _(t,e,a,o,n){t.selectAll("circle.map-volcano").data(e).attr("cx",(t=>a(t.location.coordinates)[0])).attr("cy",(t=>a(t.location.coordinates)[1]))}h.append("path").datum(m).attr("class","graticule").attr("d",u),o.AVB("./json/countries-110m.json").then((function(t){r=n.zL(t,t.objects.countries),h.append("path").datum(r).attr("class","countries").attr("d",u),o.AVB("./json/holoceneLatest(1).json").then((t=>{i=t,C(f,u,i)}))}));function C(t,e,a){h.selectAll(".map-volcano").data(a).enter().append("circle").attr("cx",(e=>t(e.location.coordinates)[0])).attr("cy",(e=>t(e.location.coordinates)[1])).attr("r",1).attr("class","map-volcano").attr("fill",(t=>"#992020")).on("click",(function(t){o.td_(".map-volcano").attr("fill",(t=>"#992020")),o.Ys(this).attr("fill","#fff")}))}}},9274:function(t,e,a){var o=a(144),n=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("Index")],1)},r=[],i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"home"},[e("Nav"),e("router-view")],1)},l=[],s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"nav"},[e("div",{staticClass:"nav-item",attrs:{id:"nav-left"}},[t._v(" "+t._s(t.nav_left[t.page])+" ")]),e("div",{staticClass:"nav-item",attrs:{id:"nav-center"}}),e("div",{staticClass:"nav-item",attrs:{id:"nav-right"}},t._l(t.nav_right,(function(a,o){return e("router-link",{staticClass:"nav-right-item router",attrs:{id:"nav-right-item"+o,to:a.url,"active-class":"active_nav"},nativeOn:{click:function(e){return t.changePage(o)}}},[t._v(" "+t._s(a.d)+" ")])})),1)])},c=[],d={name:"nav",props:[],data(){return{nav_left:["Comprehensive Graphic presentation","Individual Volcano Insights Explorer","World Volcano Distribution Map"],nav_right:[{d:"Volcano Insights Hub",url:"/insights"},{d:"Explorer",url:"/explorer"},{d:"Global",url:"/global"}],nav_right_fullName:["Volcano Insights Hub","Volcano Explorer","Global Volcano Atals"],nav_right_shortName:["Insights","Explorer","Global"],page:0}},methods:{changePage(t){this.page=t;for(let e=0;e<3;e++)this.nav_right[e].d=e==t?this.nav_right_fullName[e]:this.nav_right_shortName[e]}},mounted(){this.page=2;let t=this;"/insights"==this.$route.path?this.page=0:"/explorer"==this.$route.path&&(this.page=1),t.changePage(this.page)}},p=d,h=a(1001),f=(0,h.Z)(p,s,c,!1,null,"b990249c",null),u=f.exports,m={name:"HomeView",components:{Nav:u}},g=m,y=(0,h.Z)(g,i,l,!1,null,null,null),v=y.exports,x={name:"nav",components:{Index:v},data(){return{nav_left:"World Volcano Distribution Map",nav_right:[{d:"insights"},{d:"Exployer"},{d:"Global Volcano Atals"}]}},watch:{$route(t,e){}}},b=x,w=(0,h.Z)(b,n,r,!1,null,null,null),_=w.exports,C=a(8345),k=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"insights"}},[e("div",{attrs:{id:"insight-center-container"}},[e("center"),t._m(0)],1),e("div",{staticClass:"footer"},[e("div",{staticClass:"left-arr arrow",on:{click:function(e){return t.arrowChange(-1)}}},[t._v("<")]),t._l(t.foot,(function(a,o){return e("div",{class:a.flag?"footer-line":"footer-point",on:{click:function(e){return t.footerChange(o)}}})})),e("div",{staticClass:"right-arr arrow",on:{click:function(e){return t.arrowChange(1)}}},[t._v(">")])],2)])},A=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"insight-right-page"},[e("div",{attrs:{id:"point-chart"}})])}],D=(a(560),function(){var t=this;t._self._c;return t._m(0)}),j=[function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"insights-center"}},[e("div",{staticClass:"insights-center-row"},[e("div",{attrs:{id:"chart1-container"}},[e("div",{attrs:{id:"button-container"}})])]),e("div",{staticClass:"insights-center-row",attrs:{id:"insights-center-row2"}},[e("div",{staticClass:"insights-center-left",attrs:{id:"chart2-container"}},[e("select",{attrs:{id:"countrySelect"}})]),e("div",{staticClass:"insights-center-mid"},[e("div",{staticClass:"top",attrs:{id:"pie-chart"}},[e("div",{staticClass:"tooltip"})])]),e("div",{staticClass:"insights-center-right",attrs:{id:"chart3-container"}})])])}],B=a(3745),E={data(){return{}},mounted(){B.AVB("./json/holoceneLatest(1).json").then((t=>{let e=t.map((t=>({height:t.elevation,name:t.name,id:t.id,primaryType:t.primaryType,country:t.country,eruption:t.eruption,volcanoType:t.volcanoType,coordinates:t.coordinates}))),a=[...e],o=document.getElementById("chart1-container").offsetWidth,n=document.getElementById("chart1-container").offsetHeight,r=40,i=(o-2*r)/e.length,l=B.Ys("#chart1-container").append("svg").attr("style",`width: ${o}; height:${n};`),s=l.append("defs").append("linearGradient").attr("id","bar-gradient").attr("x1","0%").attr("y1","0%").attr("x2","0%").attr("y2","100%"),c=l.append("defs").append("linearGradient").attr("id","barMinus-gradient").attr("x1","0%").attr("y1","0%").attr("x2","0%").attr("y2","100%");s.append("stop").attr("offset","4%").attr("style","stop-color: black; stop-opacity: 0"),s.append("stop").attr("offset","30%").attr("style","stop-color: purple; stop-opacity: 1"),s.append("stop").attr("offset","50%").attr("style","stop-color: red; stop-opacity: 0.8"),s.append("stop").attr("offset","80%").attr("style","stop-color: orange; stop-opacity: 0.8"),s.append("stop").attr("offset","100%").attr("style","stop-color: white; stop-opacity: 1"),c.append("stop").attr("offset","4%").attr("style","stop-color: white; stop-opacity: 1"),c.append("stop").attr("offset","30%").attr("style","stop-color: orange; stop-opacity: 0.8"),c.append("stop").attr("offset","50%").attr("style","stop-color: red; stop-opacity: 0.8"),c.append("stop").attr("offset","80%").attr("style","stop-color: purple; stop-opacity: 1"),c.append("stop").attr("offset","100%").attr("style","stop-color: black; stop-opacity: 0");let d=B.BYU().domain([B.Fp7(e,(t=>t.height)),-B.Fp7(e,(t=>t.height))]).range([r,n-r]),p=B.tiA().domain(B.UID(e,(t=>t.id))).range([r,o-r]),h=l.append("g").attr("class","x-axis").attr("transform","translate(0, "+n/2+")").call(B.LLu(p).tickValues([]));h.selectAll("text").style("opacity",0),l.append("g").attr("transform","translate("+r+",0)").call(B.y4O(d)),l.append("text").attr("y",r/3).attr("x",60).attr("dy","1em").style("text-anchor","middle").text("Elevation"),l.append("text").attr("y",n-r-5).attr("x",o/2).attr("dy","1em").style("font-size","1.3vw").style("font-family","semibold").style("text-anchor","middle").text("Statistical demonstration of the elevation of Quaternary Holocene volcanoes");let f=l.selectAll("rect").data(e).enter().append("rect").attr("x",(t=>p(t.id))).attr("y",(t=>t.height>0?d(t.height):n/2)).attr("width",i).attr("height",(t=>t.height>0?n-d(t.height)-n/2:n/2-(n-d(t.height)))).attr("fill",(t=>t.height>0?"url(#bar-gradient)":"url(#barMinus-gradient)")).attr("class","volcano-rect").attr("id",(t=>"volcano-rect"+t.id)).on("click",(function(t){B.td_(".volcano-rect").attr("fill",(t=>t.height>0?"url(#bar-gradient)":"url(#barMinus-gradient)")),B.Ys(this).transition().duration(50).attr("fill","black")}));B.Ys("#button-container").append("button").text("TimeLine").on("click",(function(){a.sort(((t,e)=>new Date(t.eruption)-new Date(e.eruption))),p.domain(B.UID(a,(t=>t.id))),h.transition().call(B.LLu(p).tickValues([]));const t=(t,e)=>20*e;f.transition().duration(1600).delay(t).attr("y",n/2).attr("height",0).on("end",(function(){B.Ys(this).attr("x",(t=>p(t.id))).attr("y",n/2).attr("height",0).transition().duration(500).delay(t).attr("height",(t=>t.height>0?n-d(t.height)-n/2:n/2-(n-d(t.height)))).attr("y",(t=>t.height>0?d(t.height):n/2))}))})),B.Ys("#button-container").append("button").text("Original").on("click",(function(){a=[...e],p.domain(B.UID(a,(t=>t.id))),h.call(B.LLu(p).tickValues([]));const t=(t,e)=>20*e;f.transition().duration(1600).delay(t).attr("y",n/2).attr("height",0).on("end",(function(){B.Ys(this).attr("x",(t=>p(t.id))).attr("y",n/2).attr("height",0).transition().duration(500).delay(t).attr("height",(t=>t.height>0?n-d(t.height)-n/2:n/2-(n-d(t.height)))).attr("y",(t=>t.height>0?d(t.height):n/2))}))}))})),B.AVB("./json/holoceneLatest(1).json").then((t=>{const e={};t.forEach((t=>{const a=t.country;e[a]||(e[a]=[]),e[a].push({height:t.elevation,name:t.name,id:t.id,primaryType:t.primaryType,country:t.country})}));const a=B.Ys("#countrySelect");Object.keys(e).forEach((t=>{a.append("option").text(t).attr("value",t)}));let o=Object.keys(e)[0],n=e[o],r=document.getElementById("chart2-container").offsetWidth,i=document.getElementById("chart2-container").offsetHeight,l=50,s=B.Ys("#chart2-container").append("svg").attr("style","width: "+r+"px; height: "+i+"px; background:white"),c=B.BYU().domain([0,B.Fp7(n,(t=>t.height))]).range([i-l,l]),d=B.tiA().domain(n.map((t=>t.id))).range([l,r-l]).padding(.1),p=s.append("g").attr("class","x-axis").attr("transform","translate(0, "+(i-l)+")").call(B.LLu(d).tickValues([]));s.append("g").attr("class","y-axis").attr("transform","translate("+l+",0)").call(B.y4O(c)),s.append("text").attr("y",l/2).attr("x",60).attr("dy","1em").style("text-anchor","middle").text("Elevation");let h=B.BYU().domain([0,B.Fp7(n,(t=>t.height))]).range(["orange","red"]),f=B.BYU().domain([B.VV$(n,(t=>t.height)),0]).range(["#228","#fff"]);function u(){s.selectAll(".volcano-rect1").data(n).enter().append("rect").attr("x",(t=>d(t.id))).attr("y",(t=>t.height>0?c(t.height):c(0))).attr("width",d.bandwidth()).attr("height",(t=>Math.abs(c(t.height)-c(0)))).attr("fill",(t=>t.height>0?h(t.height):f(t.height))).attr("class","volcano-rect1").on("click",(function(t){B.td_(".volcano-rect1").attr("fill",(t=>t.height>0?h(t.height):f(t.height))),B.Ys(this).transition().duration(50).attr("fill","black"),s.selectAll(".x-axis text").transition().duration(10).text(t.id).style("opacity",1)}))}a.on("change",(function(){s.selectAll(".volcano-rect1").remove(),o=this.value,n=e[o],c.domain([0,B.Fp7(n,(t=>t.height))]),s.select(".y-axis").transition().duration(500).call(B.y4O(c)),d.domain(n.map((t=>t.id))),p.transition().duration(500).call(B.LLu(d).tickValues([])),s.selectAll(".volcano-rect1").data(n).enter().append("rect").attr("x",(t=>d(t.id))).attr("y",i-l).attr("width",d.bandwidth()).attr("height",0).attr("fill",(t=>t.height>0?h(t.height):f(t.height))).attr("class","volcano-rect1").on("click",(function(t){B.td_(".volcano-rect1").attr("fill",(t=>t.height>0?h(t.height):f(t.height))),B.Ys(this).attr("fill","black")})).transition().duration(500).attr("y",(t=>t.height>0?c(t.height):c(0))).attr("height",(t=>Math.abs(c(t.height)-c(0))))})),u()})),B.AVB("./json/holoceneLatest(1).json").then((t=>{let e=B.jJk(t,(t=>t.length),(t=>t.primaryType)),a=document.getElementById("chart3-container").offsetWidth,o=document.getElementById("chart3-container").offsetHeight,n=Array.from(e.keys()),r=B.Fp7(Array.from(e.values())),i=(B.PKp().domain(n).range(B.q$2(B.cjJ,n.length)),B.Ys("#chart3-container").append("svg").attr("width",a).attr("height",o).style("background","white")),l=i.append("defs"),s=l.append("filter").attr("id","shadow-filter").append("feDropShadow").attr("dx","0").attr("dy","0").attr("stdDeviation","5").attr("flood-color","white");s.append("feComponentTransfer").append("feFuncA").attr("type","linear").attr("slope","0.2"),s.append("feGaussianBlur").attr("in","SourceAlpha").attr("stdDeviation",10).attr("result","blur"),s.append("feOffset").attr("in","blur").attr("dx",6).attr("dy",6).attr("result","offsetBlur");let c=s.append("feMerge");c.append("feMergeNode").attr("in","offsetBlur"),c.append("feMergeNode").attr("in","SourceGraphic");l.selectAll(".radial-gradient").data(n).enter().append("radialGradient").attr("id",((t,e)=>`radial-gradient-${e}`)).attr("cx","50%").attr("cy","50%").attr("r","60%").selectAll("stop").data([{offset:"8%",color:"red"},{offset:"100%",color:"white"}]).enter().append("stop").attr("offset",(t=>t.offset)).attr("stop-color",(t=>t.color)),B.cJy().domain([0,n.length]).interpolator(B.cjJ);let d=n.map(((t,n)=>({id:n,type:t,count:e.get(t),radius:6*B.PUr().domain([0,r]).range([5,30])(e.get(t)),x:Math.random()*a,y:Math.random()*o}))),p=m(d),h=B.A4v(d).force("x",B.RUJ().strength(.1).x((t=>a/2))).force("y",B.Mrm().strength(.1).y((t=>o/2))).force("collide",B.Hh().radius((t=>t.radius+2)).strength(.2)).force("link",B.Fsl(p).distance(50).strength(1)).on("tick",u),f=B.ohM().on("start",g).on("drag",y).on("end",v);function u(){let t=i.selectAll(".type-bubble").data(d,(t=>t.id));t.enter().append("circle").attr("class","type-bubble").attr("r",(t=>t.radius)).style("fill",((t,e)=>`url(#radial-gradient-${e})`)).style("filter","url(#shadow-filter)").call(f).on("click",(function(t){console.log("点击了火山类型：",t.type)})).merge(t).attr("cx",(t=>t.x)).attr("cy",(t=>t.y));let e=i.selectAll(".type-label").data(d,(t=>t.id));e.enter().append("text").attr("class","type-label").text((t=>`${t.type} (${t.count})`)).attr("text-anchor","middle").attr("alignment-baseline","middle").attr("font-size",(t=>t.radius>100?".6vw":".4vw")).attr("font-family","semibold").merge(e).attr("x",(t=>t.x)).attr("y",(t=>t.y));let a=i.selectAll(".type-link").data(p.filter((t=>t.target.count>1)));a.enter().append("line").attr("class","type-link").style("stroke","gray").style("stroke-opacity",.5).style("stroke-width",20).merge(a).attr("x1",(t=>t.source.x)).attr("y1",(t=>t.source.y)).attr("x2",(t=>t.target.x)).attr("y2",(t=>t.target.y))}function m(t){const e=[];for(let a=0;a<t.length-1;a++)for(let o=a+1;o<t.length;o++)t[a].type===t[o].type&&e.push({source:t[a],target:t[o]});return e}function g(t,e){t.active||h.alphaTarget(.3).restart(),e.fx=e.x,e.fy=e.y}function y(t,e){e.fx=t.x,e.fy=t.y}function v(t,e){t.active||h.alphaTarget(0),e.fx=null,e.fy=null}})),B.AVB("./json/holoceneLatest(1).json").then((t=>{const e={};t.forEach((t=>{const a=t.rockTypes&&t.rockTypes.major||[];a.forEach((t=>{e[t]=(e[t]||0)+1}))}));const a=40,o=Object.keys(e).reduce(((t,o)=>(e[o]<=a&&(t+=e[o],delete e[o]),t)),0);o>0&&(e["Other"]=o);const n=Object.keys(e).map((t=>({label:t,value:e[t]}))),r=n.map((t=>t.label)),i={width:document.getElementById("pie-chart").offsetWidth,height:document.getElementById("pie-chart").offsetHeight,margin:35},l=B.Ys("#pie-chart").append("svg").attr("width",i.width).attr("height",i.height).append("g").attr("transform",`translate(${i.width/2},${i.height/2})`);l.append("text").attr("text-anchor","middle").style("font-size",".8vw").style("font-family","semibold").attr("dy","-2.5em").attr("x",0).style("font-weight","bold").text("Percentage of "),l.append("text").attr("text-anchor","middle").style("font-family","semibold").style("font-size",".8vw").style("font-weight","bold").append("tspan").attr("dy","-1.5em").attr("x",0).text("Volcanic Rock Types"),l.append("text").attr("text-anchor","middle").style("font-size",".7vw").style("font-weight","bold").style("font-family","light").append("tspan").attr("dy","0em").attr("x","0").text("Tip: Others include"),l.append("text").attr("text-anchor","middle").style("font-size",".7vw").style("font-weight","bold").style("font-family","light").append("tspan").attr("dy","1em").attr("x","0").text("Tephri-phonolite: 24,"),l.append("text").attr("text-anchor","middle").style("font-size",".7vw").style("font-weight","bold").style("font-family","light").append("tspan").attr("dy","2em").attr("x","0").text("Phono-tephrite: 24,"),l.append("text").attr("text-anchor","middle").style("font-size",".7vw").style("font-weight","bold").style("font-family","light").append("tspan").attr("dy","3em").attr("x","0").text("Foidite: 29,"),l.append("text").attr("text-anchor","middle").style("font-size",".7vw").style("font-weight","bold").style("font-family","light").append("tspan").attr("dy","4em").attr("x","0").text("Phonolite: 36,"),l.append("text").attr("text-anchor","middle").style("font-size",".7vw").style("font-weight","bold").style("font-family","light").append("tspan").attr("dy","5em").attr("x","0").text("No Data: 39");const s=B.Nb1().outerRadius(i.width/4).innerRadius(Math.min(i.width,i.height)/2-i.margin).cornerRadius(6),c=["#bc0707","#f53f3f","#b93232","#b73737","#e04646","#ea5a32","#dd481b","#fa690f","#e76413","#ff8a04","#ff7c17","rgb(212, 55, 7)","#ef5f37","#f1830e"],d=B.PKp().domain(r).range(c),p=l.append("defs").selectAll("radialGradient").data(r).enter().append("radialGradient").attr("id",((t,e)=>`gradient-${e}`)).attr("cx","50%").attr("cy","50%").attr("r","50%");p.append("stop").attr("offset","0%").style("stop-color",((t,e)=>d(t))),p.append("stop").attr("offset","100%").style("stop-color",((t,e)=>d(t)));const h=l.append("defs").append("filter").attr("id","drop-shadow").attr("height","200%");h.append("feGaussianBlur").attr("in","SourceAlpha").attr("stdDeviation",1).attr("result","blur"),h.append("feFlood").attr("flood-color","darkred").attr("result","color"),h.append("feComposite").attr("in","color").attr("in2","blur").attr("operator","in"),h.append("feOffset").attr("in","in").attr("dx",2).attr("dy",2).attr("result","offsetBlur");const f=h.append("feMerge");f.append("feMergeNode").attr("in","offsetBlur"),f.append("feMergeNode").attr("in","SourceGraphic");const u=B.ve8().value((t=>t.value));l.selectAll("path").data(u(n)).enter().append("path").attr("class","slice").attr("d",s).attr("fill",((t,e)=>`url(#gradient-${r.indexOf(t.data.label)})`)).attr("stroke","black").style("stroke-width","0px").on("mouseover",m).on("mouseout",g).each((function(t){const e=B.Ys(this).append("filter").attr("id",`drop-shadow-${r.indexOf(t.data.label)}`).attr("height","150%");e.append("feGaussianBlur").attr("in","SourceAlpha").attr("stdDeviation",8).attr("result","blur"),e.append("feFlood").attr("flood-color","darkred").attr("result","color"),e.append("feComposite").attr("in","color").attr("in2","blur").attr("operator","in"),e.append("feOffset").attr("in","in").attr("dx",4).attr("dy",4).attr("result","offsetBlur");const a=e.append("feMerge");a.append("feMergeNode").attr("in","offsetBlur"),a.append("feMergeNode").attr("in","SourceGraphic"),B.Ys(this).attr("filter",`url(#drop-shadow-${r.indexOf(t.data.label)})`)}));function m(t,e){B.Ys(this).transition().duration(200).attr("d",B.Nb1().outerRadius(i.width/4).innerRadius(Math.min(i.width,i.height)/2+10-i.margin).cornerRadius(6)),B.Ys(".tooltip").style("display","inline-block").html(`<strong>${e.data.label}</strong>: ${(e.data.value/B.Smz(n,(t=>t.value))*100).toFixed(2)}%`).style("left",t.pageX+30+"px").style("top",t.pageY-30+"px")}function g(){B.Ys(this).transition().duration(200).attr("d",s),B.Ys(".tooltip").style("display","none")}}))},watch:{}},T=E,S=(0,h.Z)(T,D,j,!1,null,"7916a671",null),V=S.exports,Y={data(){return{foot:[{flag:!0},{flag:!1}]}},components:{center:V},methods:{footerChange:function(t){for(let e=0;e<2;e++)this.foot[e].flag=t==e;document.getElementById("insight-center-container").setAttribute("style",`left : ${0==t?0:-100}vw`)},arrowChange:function(t){for(let e=0;e<2;e++)if(1==this.foot[e].flag){1==t&&1!=e?(this.foot[e].flag=!1,this.foot[e+1].flag=!0):-1==t&&0!=e&&(this.foot[e].flag=!1,this.foot[e-1].flag=!0);break}document.getElementById("insight-center-container").setAttribute("style",`left : ${this.foot[0].flag?0:-100}vw`)}},mounted(){var t="./json/holoceneLatest(1).json";B.AVB(t).then((function(t){console.log("Data:",t);let e=document.getElementById("point-chart").offsetWidth,a=document.getElementById("point-chart").offsetHeight;var o={top:50,right:50,bottom:50,left:50},n=B.Ys("body").select("#point-chart").append("svg").attr("width",e).attr("height",a),r=B.mw4().scale(100).translate([e/2,a/2]);B.l49().projection(r);function i(){var t=[-180,-150,-120,-90,-60,-30,0,30,60,90,120,150,180];n.selectAll(".vline").data(t).enter().append("line").attr("class","grid vline").attr("x1",(t=>l(t)+o.left)).attr("x2",(t=>l(t)+o.left)).attr("y1",o.top).attr("y2",a-o.bottom).style("stroke","rgb(91, 9, 9)").style("stroke-opacity",.7);var r=[90,70,50,30,10,-10,-30,-50,-70,-90];n.selectAll(".hline").data(r).enter().append("line").attr("class","grid hline").attr("x1",o.left).attr("x2",e-o.right).attr("y1",(t=>s(t)+o.top)).attr("y2",(t=>s(t)+o.top)).style("stroke","rgb(91, 9, 9)").style("stroke-opacity",.7)}var l=B.BYU().domain([-180,180]).range([0,e-o.left-o.right]),s=B.BYU().domain([-90,90]).range([a-o.bottom-o.top,0]);function c(){var e=n.selectAll("circle").data(t);e.transition().duration(500).attr("cx",(function(t){return l(t.location.coordinates[0])+o.left})).attr("cy",(function(t){return s(t.location.coordinates[1])+o.top})).attr("r",2),e.enter().append("circle").attr("cx",(function(t){return l(t.location.coordinates[0])+o.left})).attr("cy",(function(t){return s(t.location.coordinates[1])+o.top})).attr("r",1.2).style("fill","black").style("stroke","rgba(233, 22, 16, 0.7)").style("stroke-width","12").style("stroke-opacity",.1).style("opacity",1),e.exit().remove()}function d(){var t=[-180,-150,-120,-90,-60,-30,0,30,60,90,120,150,180],e=[90,70,50,30,10,-10,-30,-50,-70,-90],r=B.LLu(l).tickValues(t),i=B.y4O(s).tickValues(e);n.append("g").attr("class","axis").attr("transform","translate("+o.left+","+(a-o.bottom)+")").call(r),n.append("g").attr("class","axis").attr("transform","translate("+o.left+","+o.top+")").call(i)}i(),n.append("text").attr("x",e/2).attr("y",a-o.bottom/4).attr("text-anchor","middle").style("font-size","1.2vw").style("font-family","semibold").text("Scatter plot of volcano distribution"),n.append("text").attr("x",o.left/2).attr("y",o.left/3*2).attr("text-anchor","middle").style("font-size","1vw").style("font-family","regular").text("North"),n.append("text").attr("x",o.left/2).attr("y",a-4*o.left/3).attr("text-anchor","middle").style("font-size","1vw").style("font-family","regular").text("South"),n.append("text").attr("x",o.left/2).attr("y",a-o.left/3).style("writing-mode","vertical-lr").attr("text-anchor","middle").style("font-size","1vw").style("font-family","regular").text("West"),n.append("text").attr("x",e-o.left/2).attr("y",a-o.left/3).style("writing-mode","vertical-lr").attr("text-anchor","middle").style("font-size","1vw").style("font-family","regular").text("East"),d();var p=[],h=[],f=[-180,-150,-120,-90,-60,-30,0,30,60,90,120,150,180],u=[90,70,50,30,10,-10,-30,-50,-70,-90];function m(){p=Array.from({length:u.length-1},(()=>Array(f.length-1).fill(0))),t.forEach((function(t){for(var e=0;e<u.length-1;e++)for(var a=0;a<f.length-1;a++)t.location.coordinates[1]>=u[e+1]&&t.location.coordinates[1]<u[e]&&t.location.coordinates[0]>=f[a]&&t.location.coordinates[0]<f[a+1]&&p[e][a]++})),g()}function g(){var t=[-180,-150,-120,-90,-60,-30,0,30,60,90,120,150,180],r=[90,70,50,30,10,-10,-30,-50,-70,-90];console.log(t.length,r.length);for(var i=(e-o.left-o.right)/(t.length-1),l=(a-o.top-o.bottom)/(r.length-1),s=.5,c=0;c<r.length-1;c++)for(var d=0;d<t.length-1;d++){var h=p[c][d],f=Math.pow(h/C(),s);n.append("rect").attr("x",Math.floor(d*i)+o.left).attr("y",Math.floor(c*l)+o.top).attr("width",i).attr("height",l).style("fill","rgba(164, 6, 6, 0.564)").style("fill-opacity",f)}}h=[];for(var y=0;y<u.length-1;y++)for(var v=0;v<f.length-1;v++){var x=l(f[v+1])-l(f[v]),b=s(u[y])-s(u[y+1]),w=l(f[v])+o.left,_=s(u[y+1])+o.top;h.push({x:w,y:_,width:x,height:b})}function C(){for(var t=0,e=0;e<u.length-1;e++)for(var a=0;a<f.length-1;a++)t=Math.max(t,p[e][a]);return t}m(),c()}))},watch:{}},I=Y,O=(0,h.Z)(I,k,A,!1,null,"6f35beac",null),$=O.exports,M=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"explorer"}},[e("div",{attrs:{id:"explorer-left"}},[e("div",{staticClass:"explorer-left-row"},[e("div",{staticClass:"explorer-left-item explorer-left-item-black"},[e("presentation",{attrs:{vData:t.vData}})],1),e("div",{staticClass:"explorer-left-item explorer-left-item-white"},[e("population",{attrs:{getData:t.vData.population}})],1)]),e("div",{staticClass:"explorer-left-row"},[e("div",{staticClass:"explorer-left-item explorer-left-item-white"},[e("tectonicSetting",{attrs:{getData:t.vData.tectonicSetting}})],1),e("div",{staticClass:"explorer-left-item explorer-left-item-black"},[e("Summary",{attrs:{summaryData:t.vData.geologicalSummary}})],1)])]),e("div",{attrs:{id:"explorer-right"}},[t.isShow?e("div",{attrs:{id:"earth"}},[e("div",{attrs:{id:"earth-container"}})]):t._e()])])},z=[],N=function(){var t=this;t._self._c;return t._m(0)},L=[function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"earth"}},[e("div",{attrs:{id:"earth-container"}})])}],P={data(){return{}},methods:{},props:[],mounted(){setTimeout((()=>a(1384)),200)}},G=P,W=(0,h.Z)(G,N,L,!1,null,null,null),U=W.exports,Z=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"tectonicSetting"}},[e("div",{staticClass:"thickness"},[t._v(" "+t._s(t.getData[1])+" ")])])},F=[],H={data(){return{imageData:["intraplate1.jpg","rift1.jpg","subduction1.jpg","others.jpg"],res:""}},methods:{},props:["getData"],mounted(){},watch:{getData(t){console.log(t),"Subduction zone"==t[0]?this.res=this.imageData[2]:"Rift zone"==t[0]?this.res=this.imageData[1]:"Intraplate"==t[0]?this.res=this.imageData[0]:this.res=this.imageData[3],document.getElementById("tectonicSetting").setAttribute("style",`background-image: url('./${this.res}');`)},deep:!0,immediate:!0}},R=H,X=(0,h.Z)(R,Z,F,!1,null,"3decee24",null),J=X.exports,K=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"population"}})},q=[],Q={data(){return{getVolcano:{1:1}}},methods:{updatePopulation(t){let e=t.map((t=>0==t?1:t));var a=["5km","10km","30km","100km"];let o=document.getElementById("population").offsetWidth,n=document.getElementById("population").offsetHeight,r=50;var i=B.Ys("#pop-svg"),l=B.q2y().domain(a).range([r,o-r]).padding(.5),s=B.p2C().domain([1,B.Fp7(e)]).range([n-r,r]),c=B.SOn().x((function(t,e){return l(a[e])+l.bandwidth()/2})).y0(n-r).y1((function(t){return s(t)}));i.selectAll("path.population-path").datum(e).transition().duration(1e3).attr("d",c);var d=B.jvg().x((function(t,e){return l(a[e])+l.bandwidth()/2})).y((function(t){return s(t)}));i.selectAll("path.population-path2").datum(e).transition().duration(1e3).attr("d",d),i.select("g#x-axis").transition().duration(1e3).attr("transform",`translate(0, ${n-r})`).call(B.LLu(l)),i.select("g#y-axis").transition().duration(1e3).attr("transform",`translate(${r}, 0)`).call(B.y4O(s).ticks(5,"~s")),i.selectAll("circle.population-circle").data(e).transition().duration(1e3).attr("cx",(function(t,e){return l(a[e])+l.bandwidth()/2})).attr("cy",(function(t){return s(t)})).attr("r",5),i.selectAll(".connect-line").data(e).transition().duration(1e3).attr("x1",(function(t,e){return l(a[e])+l.bandwidth()/2})).attr("y1",n-r).attr("x2",(function(t,e){return l(a[e])+l.bandwidth()/2})).attr("y2",(function(t){return s(t)})),i.selectAll("text.label").data(e).transition().duration(1e3).attr("x",(function(t,e){return l(a[e])+l.bandwidth()/2})).attr("y",(function(t){return s(t)-10})).text((function(t){return 1!=t?B.WUZ(",")(t):0})).attr("text-anchor","middle").style("font-size",".8vw").style("fill","#666")}},props:["getData"],mounted(){const t=this;var e=[];for(let h=0;h<4;h++)0==t.getData[h]?e.push(1):e.push(t.getData[h]);var a=["5km","10km","30km","100km"];let o=document.getElementById("population").offsetWidth,n=document.getElementById("population").offsetHeight,r=50;var i=B.Ys("#population").append("svg").attr("width",o).attr("height",n).append("g").attr("id","pop-svg"),l=B.q2y().domain(a).range([r,o-r]).padding(.5),s=B.p2C().domain([1,B.Fp7(e)]).range([n-r,r]),c=i.append("defs").append("linearGradient").attr("id","gradient").attr("x1","0%").attr("y1","0%").attr("x2","0%").attr("y2","100%");c.append("stop").attr("offset","20%").style("stop-color","darkblue").style("stop-opacity",.7),c.append("stop").attr("offset","40%").style("stop-color","#4682B4").style("stop-opacity",.4),c.append("stop").attr("offset","100%").style("stop-color","white").style("stop-opacity",0);var d=B.SOn().x((function(t,e){return l(a[e])+l.bandwidth()/2})).y0(n-r).y1((function(t){return s(t)}));i.append("path").datum(e).attr("class",(t=>"population-path")).attr("d",d);var p=B.jvg().x((function(t,e){return l(a[e])+l.bandwidth()/2})).y((function(t){return s(t)}));i.append("path").datum(e).attr("class","line population-path2").attr("d",p),i.append("g").attr("class","axis").attr("id","x-axis").attr("transform",`translate(0, ${n-r})`).call(B.LLu(l)),i.append("g").attr("class","axis").attr("id","y-axis").attr("transform",`translate(${r}, 0)`).call(B.y4O(s).ticks(5,"~s")),i.append("text").attr("x",r/3*2).attr("y",r/3*2).style("font-size","1vw").style("font-family","semibold").text("Population"),i.selectAll("circle").data(e).enter().append("circle").attr("class","population-circle").attr("cx",(function(t,e){return l(a[e])+l.bandwidth()/2})).attr("cy",(function(t){return s(t)})).attr("r",5),i.selectAll(".connect-line").data(e).enter().append("line").attr("class","connect-line").attr("x1",(function(t,e){return l(a[e])+l.bandwidth()/2})).attr("y1",n-r).attr("x2",(function(t,e){return l(a[e])+l.bandwidth()/2})).attr("y2",(function(t){return s(t)})).style("stroke","#666"),i.selectAll("text.label").data(e).enter().append("text").attr("class","label").attr("x",(function(t,e){return l(a[e])+l.bandwidth()/2})).attr("y",(function(t){return s(t)-10})).text((function(t){return 1!=t?B.WUZ(",")(t):0})).attr("text-anchor","middle").style("font-size",".8vw").style("fill","#666"),i.append("text").attr("x",o/2).attr("y",n-r/5).attr("text-anchor","middle").style("font-size",".9vw").text("Distance from the volcano")},watch:{getData(t){this.updatePopulation(t)},deep:!0,immediate:!0}},tt=Q,et=(0,h.Z)(tt,K,q,!1,null,"2485889a",null),at=et.exports,ot=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"presentation"}},[e("div",{staticClass:"presentation-row",attrs:{id:"presentation-row1"}},[e("div",{staticClass:"presentation-row-left"},[t._v(" Volcano Number: ")]),e("div",{staticClass:"presentation-row-right"},[t._v(" "+t._s(t.volcanoData.id)+" ")])]),e("div",{staticClass:"presentation-row"},[e("div",{staticClass:"presentation-row-left"},[t._v(" Volcano Name: ")]),e("div",{staticClass:"presentation-row-right"},[t._v(" "+t._s(t.volcanoData.name)+" ")])]),e("div",{staticClass:"presentation-row"},[e("div",{staticClass:"presentation-row-left"},[t._v(" Volcano Type: ")]),e("div",{staticClass:"presentation-row-right",attrs:{id:"volcanoType"}},t._l(t.volcanoData.volcanoType,(function(a,o){return e("div",{staticClass:"volcanoType-item"},[t._v("  "+t._s(a)+"  ")])})),0)]),e("div",{staticClass:"presentation-row"},[e("div",{staticClass:"presentation-row-left"},[t._v(" Location: ")]),e("div",{staticClass:"presentation-row-right"},[t._v(" "+t._s(Math.abs(t.volcanoData.location.coordinates[1])+"°"+(t.volcanoData.location.coordinates[1]>0?"N ":"S ")+Math.abs(t.volcanoData.location.coordinates[0])+"°"+(t.volcanoData.location.coordinates[0]>0?"E":"W"))+" ")])]),e("div",{staticClass:"presentation-row"},[e("div",{staticClass:"presentation-row-left"},[t._v(" Country: ")]),e("div",{staticClass:"presentation-row-right"},[t._v(" "+t._s(t.volcanoData.country)+" ")])]),e("div",{staticClass:"presentation-row"},[e("div",{staticClass:"presentation-row-left"},[t._v(" Rock Types: ")]),e("div",{staticClass:"presentation-row-right",attrs:{id:"rock-type"}},[e("select",{staticClass:"rock-type-select"},[e("option",{staticClass:"rock-type-option"},[t._v("major")]),t._l(t.volcanoData.rockTypes.major,(function(a,o){return 0!=o?e("option",{staticClass:"rock-type-option"},[t._v(" "+t._s(a)+" ")]):t._e()}))],2),e("select",{staticClass:"rock-type-select"},[e("option",{staticClass:"rock-type-option"},[t._v("minor")]),t._l(t.volcanoData.rockTypes.minor,(function(a,o){return e("option",{staticClass:"rock-type-option"},[t._v(t._s(a)+" ")])}))],2)])]),e("div",{staticClass:"presentation-row"},[e("div",{staticClass:"presentation-row-left"},[t._v(" Elevation ")]),e("div",{staticClass:"presentation-row-right"},[t._v(" "+t._s(t.volcanoData.elevation)+" m ")])]),e("div",{staticClass:"presentation-row"},[e("div",{staticClass:"presentation-row-left"},[t._v(" Tectonic Settings: ")]),e("div",{staticClass:"presentation-row-right",attrs:{id:"tectonic-data"}},[e("select",{staticClass:"tectonic-select"},t._l(t.volcanoData.tectonicSetting,(function(a,o){return e("option",[t._v(t._s(a+""))])})),0)])]),e("div",{staticClass:"presentation-row"},[e("div",{staticClass:"presentation-row-left"},[t._v(" Region: ")]),e("div",{staticClass:"presentation-row-right"},[t._v(" "+t._s(t.volcanoData.region)+" ")])]),e("div",{staticClass:"presentation-row"},[e("div",{staticClass:"presentation-row-left"},[t._v(" Subregion: ")]),e("div",{staticClass:"presentation-row-right"},[t._v(" "+t._s(t.volcanoData.subregion)+" ")])])])},nt=[],rt={data(){return{volcanoData:{}}},methods:{},props:["vData"],mounted(){this.volcanoData=this.vData},watch:{vData(t){this.volcanoData=this.vData},deep:!0,immediate:!0}},it=rt,lt=(0,h.Z)(it,ot,nt,!1,null,"12ab5d21",null),st=lt.exports,ct=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"summary"}},[e("div",{staticClass:"title"},[t._v(" Geological Summary ")]),e("div",{staticClass:"scroll"},[e("div",{staticClass:"content"},[t._v(" "+t._s(t.content)+" ")])])])},dt=[],pt={data(){return{content:"The West Eifel Volcanic Field of western Germany, SW of the city of Bonn, is a dominantly Pleistocene group of 240 scoria cones, maars, and small stratovolcanoes covering an area of about 600 km2. The smaller, but better known, East Eifel Volcanic Field is about 40 km NE. Individual vents spread across a broad NW-SE-trending area extending about 50 km from the towns of Ormont on the NW to Bad Bertrich on the SE. Eruptions originated from a mantle plume through Devonian sedimentary and metamorphic rocks. Two-thirds of the volcanic centers in the field are scoria cones; lava flows have been produced from about half of them. About 30% of the centers are maars or tuff rings, many of which are occupied by lakes. About 230 eruptions have occurred during the past 730,000 years. The latest eruptions formed the Ulmener, Pulvermaar, and Strohn maars around the end of the Pleistocene and the beginning of the Holocene.\n\nThis volcano is located within the Vulkaneifel, a UNESCO Global Geopark property."}},methods:{},props:["summaryData"],mounted(){this.content=this.summaryData},watch:{summaryData(t){this.content=this.summaryData},deep:!0,immediate:!0}},ht=pt,ft=(0,h.Z)(ht,ct,dt,!1,null,"6a2818ea",null),ut=ft.exports,mt=a(6477),gt={data(){return{vData:{id:"290070",region:"Kuril Islands",subregion:"Kuril Islands",lastKnownEruption:"2013 CE",country:"Japan",primaryType:"Complex",elevation:1158,location:{type:"Point",coordinates:[147.871,45.012]},latitude:45.012,longitude:147.871,isNorth:!0,isEast:!0,volcanoType:["Complex","Lava dome(s)","Caldera"],geologicalSummary:"The Etorofu-Yakeyama (Ivan Grozny) complex is located in the center of Iturup Island. It has a 3-3.5 km diameter caldera open to the south, where a large extrusive andesitic dome was emplaced. Several other lava domes of Holocene age were constructed to the NE; extrusion of these domes has constricted a former lake in the northern side of the caldera to an extremely sinuous shoreline. Recorded eruptions, the first of which took place in 1968, have been from the central Yakeyama (Grozny) dome.",isDetail:!0,rockTypes:{isMajor:!0,isMinor:!1,major:["Major","Andesite","Basaltic Andesite"],minor:[]},tectonicSetting:["Subduction zone","Intermediate crust (15-25 km)"],population:[0,39,2417,6361],name:"Etorofu-Yakeyama [Grozny Group]",iseruption:!0,eruption:2013},isShow:!0,allVData:[]}},methods:{},props:[],mounted(){let t=this;t.isShow=!0;let e,a,o=document.getElementById("earth-container").offsetWidth,n=document.getElementById("earth-container").offsetHeight,r=230,i={x:0,y:0},l=B.Ys("#earth-container").append("svg").attr("width",o).attr("height",n),s=l.append("g").datum({x:0,y:0}).attr("id","earth-g"),c=(s.append("circle").attr("cx",o/2).attr("cy",n/2).attr("r",230).attr("class","earth-back"),B.WvA().scale(r).translate([o/2,n/2]).rotate([i.x,i.y]).center([0,0]).clipAngle(90)),d=B.l49().projection(c),p=B.SaU();l.call(B.sPX().on("zoom",g)),s.call(B.ohM().on("drag",u).on("end",m));let h=B.BYU().domain([-o,o]).range([-180,180]),f=B.BYU().domain([-n,n]).range([90,-90]);function u(t){let o={x:h(t.x),y:f(t.y)};c.rotate([i.x+o.x,i.y+o.y]),y(l,p,e,d),v(l,a,c,d,1)}function m(t){let e={x:h(t.x),y:f(t.y)};i.x+=e.x,i.y+=e.y}function g(t){let e=t.transform;s.attr("transform",e)}function y(t,e,a,o){t.selectAll("path.graticule").datum(e).attr("d",o),t.selectAll("path.countries").datum(a).attr("d",o)}function v(t,e,a,o,n){t.selectAll("circle.map-volcano").data(e).attr("cx",(t=>a(t.location.coordinates)[0])).attr("cy",(t=>a(t.location.coordinates)[1]))}s.append("path").datum(p).attr("class","graticule").attr("d",d),B.AVB("./json/countries-110m.json").then((function(o){e=mt.zL(o,o.objects.countries),s.append("path").datum(e).attr("class","countries").attr("d",d),B.AVB("./json/holoceneLatest(1).json").then((e=>{t.allVData=e,t.vData=e[0],a=e,x(c,d,a)}))}));function x(e,a,o){s.selectAll(".map-volcano").data(o).enter().append("circle").attr("cx",(t=>e(t.location.coordinates)[0])).attr("cy",(t=>e(t.location.coordinates)[1])).attr("r",1).attr("class","map-volcano").attr("fill",(t=>"#992020")).on("click",(function(e){B.td_(".map-volcano").attr("fill",(t=>"#992020")),B.Ys(this).attr("fill",(e=>(t.vData=e,"#fff")))}))}},components:{earth:U,tectonicSetting:J,population:at,presentation:st,Summary:ut},watch:{deep:!0,immediate:!0}},yt=gt,vt=(0,h.Z)(yt,M,z,!1,null,"1e8e1a7c",null),xt=vt.exports,bt=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"global"}},[t.isShow?e("Map",{attrs:{volcanoData:t.vData}}):e("div",{staticClass:"loading"}),e("div",{attrs:{id:"global-footer"}},[t._l(t.d,(function(a,o){return e("div",{staticClass:"global-footer-item"},[e("div",{staticClass:"global-footer-item-title",attrs:{id:"global-footer-item-title"+o}},[t._v(t._s(a.title))]),e("div",{staticClass:"global-footer-item-choice-container",attrs:{id:"global-footer-item-choice-container"+o}},t._l(a.choice,(function(a,n){return e("div",{staticClass:"global-footer-item-choice-item",attrs:{id:"global-footer-item-choice-item"+o},on:{click:function(e){return t.choiceChange(o,n)}}},[e("div",{staticClass:"global-footer-item-choice-item-left"},[t._v(t._s(a.name))]),e("div",{class:{"global-footer-item-choice-item-right":!0,"active-choice-btn":a.flag}})])})),0)])})),e("div",{staticClass:"global-footer-item"},[e("div",{staticClass:"global-footer-item-title",attrs:{id:"global-footer-item-title4"}},[t._v("Result")]),e("div",{staticClass:"global-footer-item-choice-container",attrs:{id:"global-footer-item-choice-container4"}},[e("div",{staticClass:"global-footer-item-choice-item",attrs:{id:"result-volcano-num-container"}},[e("b",{staticClass:"result-volcano-num"},[t._v(t._s(t.volcanonum)+" ")]),t._v("       volcanoes are depicted on the map ")])])])],2)],1)},wt=[],_t=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"map-container"}},[e("div",{staticClass:"tooltip"},[e("div",{staticClass:"close-btn",on:{click:t.closeTooltip}}),t._m(0),t._m(1)])])},Ct=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"tooltip-left"},[e("div",{staticClass:"first"},[t._v("Volcano Number: ")]),e("div",[t._v("Volcano Name: ")]),e("div",[t._v("Primary Volcano Type: ")]),e("div",[t._v("Location: ")]),e("div",{staticClass:"last"},[t._v("Country: ")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"tooltip-right-container"},[e("div",{staticClass:"tooltip-right"},[e("div",{staticClass:"number"}),e("div",{staticClass:"name"}),e("div",{staticClass:"volcanoType"}),e("div",{staticClass:"location"}),e("div",{staticClass:"country"})])])}],kt={data(){return{getVolcanoData:[]}},props:["volcanoData"],methods:{closeTooltip(){B.Ys(".tooltip").style("opacity",0);B.td_(".map-volcano").attr("fill","#992020")},remakeMap(){const t=this,e=document.getElementById("map-container").offsetWidth,a=document.getElementById("map-container").offsetHeight,o=B.Ys("svg");let n,r=B.Ys(".tooltip").style("opacity",0),i=t.getVolcanoData,l=o.select("#map-g");const s=130;function c(t){const o=120,n=0,r=0,i=e,l=a+2*o,c=B.mw4().fitExtent([[n,r],[i,l]],t).scale(s);return c}let d,p;function h(t){let e=t.transform;l.attr("transform",e)}function f(t,e,a){l.selectAll(".map-volcano").data(a).attr("cx",(e=>t(e.location.coordinates)[0])).attr("cy",(e=>t(e.location.coordinates)[1])).attr("r",1).attr("class","map-volcano").attr("fill","#992020").on("click",(function(t){B.td_(".map-volcano").attr("fill","#992020"),B.Ys(this).attr("fill",(t=>(r.style("left",event.pageX+50+"px").style("top",event.pageY-100+"px").style("opacity",1),r.select(".number").text(t.id),r.select(".name").text(t.name),r.select(".volcanoType").text(t.primaryType),r.select(".location").text(`${t.latitude}°${t.isNorth?"N":"S"} ${t.longitude}°${t.isEast?"E":"W"} `),r.select(".country").text(t.country),"#bababa")))})),l.selectAll(".map-volcano").data(a).enter().append("circle").attr("cx",(e=>t(e.location.coordinates)[0])).attr("cy",(e=>t(e.location.coordinates)[1])).attr("r",1).attr("class","map-volcano").attr("fill","#992020").on("click",(function(t){B.td_(".map-volcano").attr("fill","#992020"),B.Ys(this).attr("fill",(t=>(r.style("left",event.pageX+50+"px").style("top",event.pageY-100+"px").style("opacity",1),r.select(".number").text(t.id),r.select(".name").text(t.name),r.select(".volcanoType").text(t.primaryType),r.select(".location").text(`${t.latitude}°${t.isNorth?"N":"S"} ${t.longitude}°${t.isEast?"E":"W"} `),r.select(".country").text(t.country),"#bababa")))})),l.selectAll(".map-volcano").data(a).exit().remove()}o.call(B.sPX().on("zoom",h)),B.AVB("./json/countries-110m.json").then((t=>{n=mt.zL(t,t.objects.countries),d=c(n),p=B.l49().projection(d),f(d,p,i)}))}},mounted(){const t=this;setTimeout((()=>console.log("map OK")),200),t.getVolcanoData=t.volcanoData;{const e=document.getElementById("map-container").offsetWidth,a=document.getElementById("map-container").offsetHeight,o=B.Ys("#map-container").append("svg").attr("height",a).attr("width",e).attr("viewBox",[e/8,0,e/4*3,a]).attr("preserveAspectRatio","none");let n,r=B.Ys(".tooltip").style("opacity",0),i=t.getVolcanoData,l=o.append("g").datum({x:0,y:0}).attr("id","map-g");o.append("g").datum({x:0,y:0}).attr("id","map-volcano-g");const s=130;function c(t){const o=120,n=0,r=0,i=e,l=a+2*o,c=B.mw4().fitExtent([[n,r],[i,l]],t).scale(s);return c}let d,p,h;function f(t){let e=t.transform;l.attr("transform",e)}function u(t,e,a){l.selectAll(".map-volcano").data(a).enter().append("circle").attr("cx",(e=>t(e.location.coordinates)[0])).attr("cy",(e=>t(e.location.coordinates)[1])).attr("r",1).attr("class","map-volcano").attr("fill","#992020").on("click",(function(t){B.td_(".map-volcano").attr("fill","#992020"),B.Ys(this).attr("fill",(t=>(r.style("left",event.pageX+50+"px").style("top",event.pageY-100+"px").style("opacity",1),r.select(".number").text(t.id),r.select(".name").text(t.name),r.select(".volcanoType").text(t.primaryType),r.select(".location").text(`${t.latitude}°${t.isNorth?"N":"S"} ${t.longitude}°${t.isEast?"E":"W"} `),r.select(".country").text(t.country),"#bababa")))}))}o.call(B.sPX().on("zoom",f)),B.AVB("./json/countries-110m.json").then((t=>{n=mt.zL(t,t.objects.countries),d=c(n),p=B.l49().projection(d),h=l.selectAll(".countries").data(n.features).join("path").attr("d",p).attr("class","countries"),u(d,p,i)}))}},watch:{volcanoData(t){this.getVolcanoData=t,this.remakeMap(t)},deep:!0,immediate:!0}},At=kt,Dt=(0,h.Z)(At,_t,Ct,!1,null,null,null),jt=Dt.exports,Bt={data(){return{d:[{title:"Geological Epoch",choice:[{name:"Holocene",flag:!1},{name:"Pleistocene",flag:!1}]},{title:"Region",choice:[{name:"All",flag:!1},{name:"Africa",flag:!1},{name:"Antarctica",flag:!1},{name:"Asia",flag:!1},{name:"Europe",flag:!1},{name:"North America",flag:!1},{name:"South America",flag:!1},{name:"Oceania",flag:!1}]},{title:"Volcano Types",choice:[{name:"All",flag:!1},{name:"Shield Volcano",flag:!1},{name:"Volcano Field",flag:!1},{name:"Stratovolcano",flag:!1},{name:"Caldera",flag:!1}]},{title:"Rock Types",choice:[{name:"All",flag:!1},{name:"Dacite",flag:!1},{name:"Rhyloite",flag:!1},{name:"Foidite",flag:!1},{name:"Basalt",flag:!1}]}],volcanoType:[],rockType:[],nowChoosen:[0,0,0,0],volcanonum:0,AllvData:[],vData:[],isShow:!1}},methods:{getChoiceClass(t,e){return this.nowChoosen[t]==e?"global-footer-item-choice-item-right active-choice-btn":"global-footer-item-choice-item-right"},choiceChange(t,e){let a=[],o=0;if(this.d[t].choice[this.nowChoosen[t]].flag=!1,this.nowChoosen[t]=e,this.d[t].choice[e].flag=!0,1==this.nowChoosen[0])return this.vData=[],void(this.volcanonum=0);let n=this.d[1].choice[this.nowChoosen[1]].name,r=this.d[2].choice[this.nowChoosen[2]].name,i=this.d[3].choice[this.nowChoosen[3]].name;this.AllvData.map((t=>{"All"==n&&("All"==r||t.volcanoType.indexOf(r))&&("All"==i?(a[o]=t,o++):1==t.isDetail&&(-1!=t.rockTypes.major.indexOf(i)||-1!=t.rockTypes.minor.indexOf(i)?(a[o]=t,o++):console.log(t.roc)))})),this.vData=a,this.volcanonum=this.vData.length,this.$forceUpdate()}},components:{Map:jt},created(){},mounted(){let t=this;B.AVB("./json/holoceneLatest(1).json").then((e=>{t.AllvData=e,t.vData=t.AllvData,t.volcanonum=t.AllvData.length,t.isShow=!0})),B.AVB("./json/AllvolcanoType.json").then((e=>{t.volcanoType=e,t.d[2].choice=t.volcanoType.map((t=>({name:t,flag:!1}))),t.d[2].choice[this.nowChoosen[2]].flag=!0})),B.AVB("./json/AllrockType.json").then((e=>{t.rockType=e,t.d[3].choice=t.rockType.map((t=>({name:t,flag:!1}))),t.d[3].choice[this.nowChoosen[2]].flag=!0}));for(let e=0;e<4;e++)t.d[e].choice[this.nowChoosen[e]].flag=!0}},Et=Bt,Tt=(0,h.Z)(Et,bt,wt,!1,null,"5ffc2bab",null),St=Tt.exports;o.ZP.use(C.ZP);const Vt=[{path:"/",redirect:"/global"},{path:"/insights",name:"insights",component:$},{path:"/explorer",component:xt},{path:"/global",component:St}],Yt=new C.ZP({mode:"hash",base:"",routes:Vt});var It=Yt;o.ZP.config.productionTip=!1,o.ZP.config.silent=!0,new o.ZP({router:It,render:t=>t(_)}).$mount("#app")}},e={};function a(o){var n=e[o];if(void 0!==n)return n.exports;var r=e[o]={exports:{}};return t[o].call(r.exports,r,r.exports,a),r.exports}a.m=t,function(){var t=[];a.O=function(e,o,n,r){if(!o){var i=1/0;for(d=0;d<t.length;d++){o=t[d][0],n=t[d][1],r=t[d][2];for(var l=!0,s=0;s<o.length;s++)(!1&r||i>=r)&&Object.keys(a.O).every((function(t){return a.O[t](o[s])}))?o.splice(s--,1):(l=!1,r<i&&(i=r));if(l){t.splice(d--,1);var c=n();void 0!==c&&(e=c)}}return e}r=r||0;for(var d=t.length;d>0&&t[d-1][2]>r;d--)t[d]=t[d-1];t[d]=[o,n,r]}}(),function(){a.d=function(t,e){for(var o in e)a.o(e,o)&&!a.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,o){var n,r,i=o[0],l=o[1],s=o[2],c=0;if(i.some((function(e){return 0!==t[e]}))){for(n in l)a.o(l,n)&&(a.m[n]=l[n]);if(s)var d=s(a)}for(e&&e(o);c<i.length;c++)r=i[c],a.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return a.O(d)},o=self["webpackChunkvolcano"]=self["webpackChunkvolcano"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=a.O(void 0,[998],(function(){return a(9274)}));o=a.O(o)})();
//# sourceMappingURL=app.af5c0314.js.map